<html>
	<head>
		<title> QuickJS </title>

		<script type="text/javascript" src="quick.js"></script>
		<script type="text/javascript" src="quick_dom.js"></script>

		<script type="text/javascript">

		function onload () {
			var tokens = QuickJS.tokenizer.parse(document.getElementById("quickjs").value);
			console.dir(tokens);
			
			var object_tree = QuickJS.parser.parse(tokens);
			console.dir(object_tree);
			
			QuickJS.engine.createElements(object_tree, document.getElementById("quickjsroot"));
		}

        </script>

	</head>
	<body onload="onload()">


    <a href="JavaScript: onload();">Compile</a><br/>

	<textarea id="quickjs" rows=20 cols=155>
Item {
    id: button;
    width: 73;
    height: 32;
    x: 900;
    y: 50;
    onclick: "console.log('click')";
    border-width: 0
    source: ($ma.changed || !$ma.changed) ? $ma.pressed ? "url(button2.png)" : $ma.containsMouse ? "url(button3.png)" : "url(button1.png)" : ""
    source: "url(button1.png)"

    MouseArea {
        id: ma;
        width: $button.width;
        height: $button.height;
    }
}
	</textarea>
	<br/>
	
	<div id="quickjsroot" style="position: absolute; visibility: visible; -webkit-user-select: none;" onselectstart="return false;"></div>
		
	</body>
</html>

